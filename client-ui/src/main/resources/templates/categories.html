<div th:fragment="categoriesInfo" class="row" xmlns:th="http://www.w3.org/1999/xhtml">
    <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
            <a class="nav-item nav-link active" id="v-pills-home-tab" data-toggle="tab" href="#allCategories" role="tab" aria-controls="v-pills-home" aria-selected="true">Les livres</a>
            <a class="nav-item nav-link" th:each="category : ${categories}" data-toggle="tab" th:href="'#category'+${category.id}" role="tab" aria-selected="false" th:text="${category.name}"></a>
        </div>
    </nav>
    <div class="tab-content" id="nav-tabContent">
        <div class="tab-pane fade show active" id="allCategories" role="tabpanel" aria-labelledby="v-pills-home-tab">
            <h4>Tous les livres</h4>
            <div class="container">
                <div class="row">
                    <div th:if="${book != null}" th:each="book : ${books}" class="card col-lg-4 col-sm-12 bookHome">
                        <img th:if="${book.image != null}" th:src="@{${book.image}}"
                             width="200" height="300" class="card-img-top" alt="...">
                        <img th:if="${book.image == null}" th:src="@{/images/default.png}"
                             width="200" height="300" class="card-img-top" alt="..." />
                        <div class="card-body">
                            <a th:href="@{/book/{path}(path=${book.id})}">
                                <h5 class="card-title" th:text= "${book.title}"></h5>
                            </a>
                            </a>
                            <p class="card-text" th:text= "${#strings.substring(book.description,0,80)}+[...]">
                            <a th:href="@{/book/{path}(path=${book.id})}" class="btn btn-primary" target="_blank">Plus d'info ></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" th:each="category : ${categories}" th:id="'category'+${category.id}" role="tabpanel">
          <h4 th:text="${category.name}"></h4>
           <div class="container">
              <div class="row">
                  <div th:each="book : ${books}" th:if="${book.bookCategories[0].name} == ${category.name}"} class="card col-lg-4 col-sm-12 bookHome">
                    <img th:if="${book.image != null}" th:src="@{${book.image}}"
                           width="200" class="card-img-top" alt="...">
                     <img th:if="${book.image == null}" th:src="@{/images/default.png}"
                           width="200" class="card-img-top" alt="..." />
                     <div class="card-body">
                         <a th:href="@{/book/{path}(path=${book.id})}">
                          <h5 class="card-title" th:text= "${book.title}"></h5>
                          </a>
                       <p class="card-text" th:text= "${#strings.substring(book.description,0,80)}+[...]"></p>
                           <a th:href="@{/book/{path}(path=${book.id})}" class="btn btn-primary" target="_blank">Plus d'info ></a>
                       </div>
                   </div>
               </div>
           </div>
         </div>
    </div>
</div>